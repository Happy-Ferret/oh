#!/usr/bin/env oh

# KEYWORD: test
# PROVIDE: continuations

## Oh is properly tail-recursive and exposes continuations as first-class
## values:
##
#{
define label: method () as: return return
define continue: method (label) as: label label

define count: integer 0
define loop: label
if (lt count (integer 100)) {
        set count: add count 1
        echo: "Hello, World! (%03d)"::sprintf count
        continue loop
}
#}
##

#-     Hello, World! (001)
#-     Hello, World! (002)
#-     Hello, World! (003)
#-     Hello, World! (004)
#-     Hello, World! (005)
#-     Hello, World! (006)
#-     Hello, World! (007)
#-     Hello, World! (008)
#-     Hello, World! (009)
#-     Hello, World! (010)
#-     Hello, World! (011)
#-     Hello, World! (012)
#-     Hello, World! (013)
#-     Hello, World! (014)
#-     Hello, World! (015)
#-     Hello, World! (016)
#-     Hello, World! (017)
#-     Hello, World! (018)
#-     Hello, World! (019)
#-     Hello, World! (020)
#-     Hello, World! (021)
#-     Hello, World! (022)
#-     Hello, World! (023)
#-     Hello, World! (024)
#-     Hello, World! (025)
#-     Hello, World! (026)
#-     Hello, World! (027)
#-     Hello, World! (028)
#-     Hello, World! (029)
#-     Hello, World! (030)
#-     Hello, World! (031)
#-     Hello, World! (032)
#-     Hello, World! (033)
#-     Hello, World! (034)
#-     Hello, World! (035)
#-     Hello, World! (036)
#-     Hello, World! (037)
#-     Hello, World! (038)
#-     Hello, World! (039)
#-     Hello, World! (040)
#-     Hello, World! (041)
#-     Hello, World! (042)
#-     Hello, World! (043)
#-     Hello, World! (044)
#-     Hello, World! (045)
#-     Hello, World! (046)
#-     Hello, World! (047)
#-     Hello, World! (048)
#-     Hello, World! (049)
#-     Hello, World! (050)
#-     Hello, World! (051)
#-     Hello, World! (052)
#-     Hello, World! (053)
#-     Hello, World! (054)
#-     Hello, World! (055)
#-     Hello, World! (056)
#-     Hello, World! (057)
#-     Hello, World! (058)
#-     Hello, World! (059)
#-     Hello, World! (060)
#-     Hello, World! (061)
#-     Hello, World! (062)
#-     Hello, World! (063)
#-     Hello, World! (064)
#-     Hello, World! (065)
#-     Hello, World! (066)
#-     Hello, World! (067)
#-     Hello, World! (068)
#-     Hello, World! (069)
#-     Hello, World! (070)
#-     Hello, World! (071)
#-     Hello, World! (072)
#-     Hello, World! (073)
#-     Hello, World! (074)
#-     Hello, World! (075)
#-     Hello, World! (076)
#-     Hello, World! (077)
#-     Hello, World! (078)
#-     Hello, World! (079)
#-     Hello, World! (080)
#-     Hello, World! (081)
#-     Hello, World! (082)
#-     Hello, World! (083)
#-     Hello, World! (084)
#-     Hello, World! (085)
#-     Hello, World! (086)
#-     Hello, World! (087)
#-     Hello, World! (088)
#-     Hello, World! (089)
#-     Hello, World! (090)
#-     Hello, World! (091)
#-     Hello, World! (092)
#-     Hello, World! (093)
#-     Hello, World! (094)
#-     Hello, World! (095)
#-     Hello, World! (096)
#-     Hello, World! (097)
#-     Hello, World! (098)
#-     Hello, World! (099)
#-     Hello, World! (100)

